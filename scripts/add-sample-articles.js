// æ·»åŠ ç¤ºä¾‹æ–‡ç« çš„è„šæœ¬
import { createClient } from '@supabase/supabase-js'
import { readFileSync } from 'fs'
import { fileURLToPath } from 'url'
import { dirname, join } from 'path'

const __filename = fileURLToPath(import.meta.url)
const __dirname = dirname(__filename)

// ä»ç¯å¢ƒå˜é‡æˆ–ç›´æ¥ä½¿ç”¨é…ç½®
const supabaseUrl = process.env.VITE_SUPABASE_URL || 'https://gcwhcjgtrnvqzqetfmlg.supabase.co'
const supabaseAnonKey = process.env.VITE_SUPABASE_ANON_KEY || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdjd2hjamd0cm52cXpxZXRmbWxnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM4NzIyMTUsImV4cCI6MjA3OTQ0ODIxNX0.pNE1dwOIL2Fzl5GhD6UAyp-nAVW268LyqSnt5YTxKcU'

const supabase = createClient(supabaseUrl, supabaseAnonKey)

// ç¤ºä¾‹æ–‡ç« æ•°æ®
const articles = [
  {
    title: 'React Hooks å®Œå…¨æŒ‡å—',
    content: `React Hooks æ˜¯ React 16.8 å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œå®ƒè®©æˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨çŠ¶æ€å’Œå…¶ä»– React ç‰¹æ€§ã€‚

## ä»€ä¹ˆæ˜¯ Hooksï¼Ÿ

Hooks æ˜¯ä¸€äº›ç‰¹æ®Šçš„å‡½æ•°ï¼Œè®©ä½ å¯ä»¥åœ¨å‡½æ•°ç»„ä»¶ä¸­"é’©å…¥" React çš„ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼ŒuseState æ˜¯ä¸€ä¸ª Hookï¼Œè®©ä½ åœ¨å‡½æ•°ç»„ä»¶ä¸­æ·»åŠ  stateã€‚

## å¸¸ç”¨çš„ Hooks

### useState
useState æ˜¯æœ€å¸¸ç”¨çš„ Hookï¼Œç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­æ·»åŠ çŠ¶æ€ï¼š

\`\`\`javascript
const [count, setCount] = useState(0);
\`\`\`

### useEffect
useEffect ç”¨äºå¤„ç†å‰¯ä½œç”¨ï¼Œç›¸å½“äº componentDidMountã€componentDidUpdate å’Œ componentWillUnmount çš„ç»„åˆï¼š

\`\`\`javascript
useEffect(() => {
  // å‰¯ä½œç”¨ä»£ç 
  return () => {
    // æ¸…ç†å‡½æ•°
  };
}, [ä¾èµ–æ•°ç»„]);
\`\`\`

### useContext
useContext è®©ä½ å¯ä»¥åœ¨ç»„ä»¶ä¸­è®¿é—® Contextï¼š

\`\`\`javascript
const value = useContext(MyContext);
\`\`\`

## è‡ªå®šä¹‰ Hooks

ä½ è¿˜å¯ä»¥åˆ›å»ºè‡ªå·±çš„ Hooks æ¥å¤ç”¨çŠ¶æ€é€»è¾‘ã€‚è‡ªå®šä¹‰ Hook æ˜¯ä¸€ä¸ªä»¥ "use" å¼€å¤´çš„ JavaScript å‡½æ•°ã€‚

## æ€»ç»“

Hooks è®©å‡½æ•°ç»„ä»¶æ›´åŠ å¼ºå¤§ï¼ŒåŒæ—¶ä¿æŒäº† React çš„å£°æ˜å¼ç¼–ç¨‹é£æ ¼ã€‚æŒæ¡ Hooks æ˜¯æˆä¸ºç°ä»£ React å¼€å‘è€…çš„å¿…å¤‡æŠ€èƒ½ã€‚`,
    excerpt: 'æ·±å…¥ç†è§£ React Hooksï¼Œå­¦ä¹ å¦‚ä½•åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨çŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸï¼Œæå‡ä½ çš„ React å¼€å‘æŠ€èƒ½ã€‚',
    category: 'æŠ€æœ¯åˆ†äº«',
    author: 'æŠ€æœ¯åšä¸»'
  },
  {
    title: 'Vite æ„å»ºå·¥å…·å¿«é€Ÿå…¥é—¨',
    content: `Vite æ˜¯ä¸€ä¸ªç”± Vue.js ä½œè€…å°¤é›¨æºªå¼€å‘çš„ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œå®ƒæä¾›äº†æé€Ÿçš„å¼€å‘ä½“éªŒã€‚

## ä¸ºä»€ä¹ˆé€‰æ‹© Viteï¼Ÿ

### æé€Ÿçš„å¼€å‘æœåŠ¡å™¨å¯åŠ¨
Vite ä½¿ç”¨åŸç”Ÿ ES æ¨¡å—ï¼Œå¯åŠ¨å¼€å‘æœåŠ¡å™¨åªéœ€è¦å‡ æ¯«ç§’ï¼Œè€Œä¸æ˜¯å‡ åˆ†é’Ÿã€‚

### å¿«é€Ÿçš„çƒ­æ›´æ–°
Vite çš„ HMRï¼ˆçƒ­æ¨¡å—æ›¿æ¢ï¼‰éå¸¸å¿«é€Ÿï¼Œåªæ›´æ–°ä¿®æ”¹çš„æ¨¡å—ï¼Œè€Œä¸æ˜¯é‡æ–°æ„å»ºæ•´ä¸ªåº”ç”¨ã€‚

### ä¼˜åŒ–çš„ç”Ÿäº§æ„å»º
Vite ä½¿ç”¨ Rollup è¿›è¡Œç”Ÿäº§æ„å»ºï¼Œç”Ÿæˆé«˜åº¦ä¼˜åŒ–çš„é™æ€èµ„æºã€‚

## å¿«é€Ÿå¼€å§‹

\`\`\`bash
npm create vite@latest my-app
cd my-app
npm install
npm run dev
\`\`\`

## ä¸»è¦ç‰¹æ€§

1. **åŸç”Ÿ ES æ¨¡å—æ”¯æŒ** - åˆ©ç”¨æµè§ˆå™¨åŸç”Ÿ ES æ¨¡å—
2. **æŒ‰éœ€ç¼–è¯‘** - åªç¼–è¯‘å½“å‰é¡µé¢çš„ä»£ç 
3. **ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€** - æ”¯æŒ Vueã€Reactã€Svelte ç­‰æ¡†æ¶
4. **TypeScript å¼€ç®±å³ç”¨** - æ— éœ€é¢å¤–é…ç½®

## ä¸ Webpack çš„å¯¹æ¯”

Vite åœ¨å¼€å‘ç¯å¢ƒä¸‹çš„é€Ÿåº¦è¿œè¶… Webpackï¼Œå› ä¸ºå®ƒä¸éœ€è¦æ‰“åŒ…æ•´ä¸ªåº”ç”¨ã€‚åªæœ‰åœ¨ç”Ÿäº§ç¯å¢ƒæ‰è¿›è¡Œæ‰“åŒ…ä¼˜åŒ–ã€‚

## æ€»ç»“

Vite ä»£è¡¨äº†å‰ç«¯æ„å»ºå·¥å…·çš„æœªæ¥æ–¹å‘ï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰å°è¯•è¿‡ï¼Œå¼ºçƒˆæ¨èä½“éªŒä¸€ä¸‹ï¼`,
    excerpt: 'äº†è§£ Vite æ„å»ºå·¥å…·çš„ä¼˜åŠ¿å’Œä½¿ç”¨æ–¹æ³•ï¼Œä½“éªŒæé€Ÿçš„å‰ç«¯å¼€å‘æµç¨‹ã€‚',
    category: 'æŠ€æœ¯åˆ†äº«',
    author: 'æŠ€æœ¯åšä¸»'
  },
  {
    title: 'Supabase å…¥é—¨æ•™ç¨‹',
    content: `Supabase æ˜¯ä¸€ä¸ªå¼€æºçš„ Firebase æ›¿ä»£å“ï¼Œæä¾›äº†æ•°æ®åº“ã€è®¤è¯ã€å­˜å‚¨ç­‰åç«¯æœåŠ¡ã€‚

## ä»€ä¹ˆæ˜¯ Supabaseï¼Ÿ

Supabase æ˜¯åŸºäº PostgreSQL çš„ Backend-as-a-Service (BaaS) å¹³å°ï¼Œæä¾›äº†ï¼š

- **PostgreSQL æ•°æ®åº“** - å¼ºå¤§çš„å…³ç³»å‹æ•°æ®åº“
- **å®æ—¶è®¢é˜…** - å®æ—¶æ•°æ®åŒæ­¥
- **èº«ä»½è®¤è¯** - ç”¨æˆ·ç®¡ç†å’Œè®¤è¯
- **å­˜å‚¨** - æ–‡ä»¶å­˜å‚¨æœåŠ¡
- **Edge Functions** - æœåŠ¡å™¨ç«¯å‡½æ•°

## å¿«é€Ÿå¼€å§‹

1. åœ¨ supabase.com åˆ›å»ºè´¦æˆ·
2. åˆ›å»ºæ–°é¡¹ç›®
3. è·å– API å¯†é’¥
4. å¼€å§‹ä½¿ç”¨ï¼

## å®¢æˆ·ç«¯é›†æˆ

\`\`\`javascript
import { createClient } from '@supabase/supabase-js'

const supabase = createClient(
  'https://your-project.supabase.co',
  'your-anon-key'
)

// æŸ¥è¯¢æ•°æ®
const { data, error } = await supabase
  .from('posts')
  .select('*')
\`\`\`

## ä¼˜åŠ¿

- **å¼€æº** - å¯ä»¥è‡ªæ‰˜ç®¡
- **PostgreSQL** - ä½¿ç”¨å¼ºå¤§çš„å…³ç³»å‹æ•°æ®åº“
- **å®æ—¶åŠŸèƒ½** - å†…ç½®å®æ—¶æ•°æ®åŒæ­¥
- **ç±»å‹å®‰å…¨** - æ”¯æŒ TypeScript
- **å…è´¹å¥—é¤** - é€‚åˆä¸ªäººé¡¹ç›®å’Œå°å‹åº”ç”¨

## æ€»ç»“

Supabase æ˜¯æ„å»ºç°ä»£ Web åº”ç”¨çš„ç»ä½³é€‰æ‹©ï¼Œç‰¹åˆ«æ˜¯å¯¹äºéœ€è¦å¿«é€Ÿå¼€å‘çš„é¡¹ç›®ã€‚`,
    excerpt: 'å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Supabase æ„å»ºåç«¯æœåŠ¡ï¼Œå¿«é€Ÿæ­å»ºä½ çš„åº”ç”¨æ•°æ®åº“å’Œ APIã€‚',
    category: 'æŠ€æœ¯åˆ†äº«',
    author: 'æŠ€æœ¯åšä¸»'
  },
  {
    title: '2024 å¹´çš„å­¦ä¹ è®¡åˆ’',
    content: `æ–°çš„ä¸€å¹´å¼€å§‹äº†ï¼Œæ˜¯æ—¶å€™åˆ¶å®šä¸€ä¸ªæ¸…æ™°çš„å­¦ä¹ è®¡åˆ’äº†ã€‚

## å›é¡¾ 2023

è¿‡å»ä¸€å¹´ï¼Œæˆ‘åœ¨å‰ç«¯å¼€å‘æ–¹é¢æœ‰äº†å¾ˆå¤§çš„è¿›æ­¥ï¼š
- æ·±å…¥å­¦ä¹ äº† React å’Œ Vue.js
- æŒæ¡äº† TypeScript
- å­¦ä¹ äº† Node.js åç«¯å¼€å‘
- å®Œæˆäº†å‡ ä¸ªä¸ªäººé¡¹ç›®

## 2024 å¹´çš„ç›®æ ‡

### æŠ€æœ¯æå‡
1. **æ·±å…¥å­¦ä¹ ç®—æ³•å’Œæ•°æ®ç»“æ„** - æ¯å‘¨è‡³å°‘åˆ· 3 é“ LeetCode
2. **å­¦ä¹ ç³»ç»Ÿè®¾è®¡** - é˜…è¯»ç›¸å…³ä¹¦ç±å’Œæ–‡ç« 
3. **æŒæ¡ Docker å’Œ Kubernetes** - å®¹å™¨åŒ–éƒ¨ç½²æŠ€èƒ½
4. **å­¦ä¹ å¾®æœåŠ¡æ¶æ„** - äº†è§£åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡

### é¡¹ç›®å®è·µ
1. å®Œæˆä¸€ä¸ªå…¨æ ˆé¡¹ç›®
2. å¼€æºè‡³å°‘ 2 ä¸ªæœ‰ç”¨çš„å·¥å…·åº“
3. å†™æŠ€æœ¯åšå®¢ï¼Œæ¯æœˆè‡³å°‘ 4 ç¯‡

### ä¸ªäººæˆé•¿
1. æé«˜è‹±è¯­æ°´å¹³
2. åšæŒè¿åŠ¨ï¼Œä¿æŒå¥åº·
3. å¤šè¯»ä¹¦ï¼Œæ‰©å±•çŸ¥è¯†é¢

## æ‰§è¡Œè®¡åˆ’

æˆ‘ä¼šä½¿ç”¨ GitHub æ¥è¿½è¸ªå­¦ä¹ è¿›åº¦ï¼Œæ¯å‘¨å›é¡¾ä¸€æ¬¡ï¼Œç¡®ä¿æŒ‰è®¡åˆ’æ‰§è¡Œã€‚

è®©æˆ‘ä»¬ä¸€èµ·åŠªåŠ›ï¼Œæˆä¸ºæ›´å¥½çš„è‡ªå·±ï¼`,
    excerpt: 'åˆ†äº«æˆ‘çš„ 2024 å¹´å­¦ä¹ è®¡åˆ’ï¼ŒåŒ…æ‹¬æŠ€æœ¯æå‡ã€é¡¹ç›®å®è·µå’Œä¸ªäººæˆé•¿ç›®æ ‡ã€‚',
    category: 'ç”Ÿæ´»éšç¬”',
    author: 'åšä¸»'
  },
  {
    title: 'è¿œç¨‹å·¥ä½œçš„ä½“éªŒä¸æ€è€ƒ',
    content: `ä»å»å¹´å¼€å§‹ï¼Œæˆ‘å¼€å§‹äº†è¿œç¨‹å·¥ä½œçš„ç”Ÿæ´»ã€‚ä»Šå¤©æƒ³åˆ†äº«ä¸€ä¸‹è¿™æ®µæ—¶é—´çš„ä½“éªŒå’Œæ€è€ƒã€‚

## è¿œç¨‹å·¥ä½œçš„ä¼˜åŠ¿

### æ—¶é—´è‡ªç”±
ä¸éœ€è¦é€šå‹¤ï¼ŒèŠ‚çœäº†å¤§é‡æ—¶é—´ã€‚å¯ä»¥æ›´çµæ´»åœ°å®‰æ’å·¥ä½œæ—¶é—´ï¼Œåœ¨æ•ˆç‡æœ€é«˜çš„æ—¶å€™å·¥ä½œã€‚

### åœ°ç‚¹è‡ªç”±
å¯ä»¥åœ¨ä»»ä½•æœ‰ç½‘ç»œçš„åœ°æ–¹å·¥ä½œï¼Œç”šè‡³å¯ä»¥åœ¨ä¸åŒçš„åŸå¸‚ä¹‹é—´ç§»åŠ¨ã€‚

### æ›´å¥½çš„å·¥ä½œç¯å¢ƒ
å¯ä»¥æ‰“é€ è‡ªå·±ç†æƒ³çš„å·¥ä½œç¯å¢ƒï¼Œä¸å—åŠå…¬å®¤çš„é™åˆ¶ã€‚

## é¢ä¸´çš„æŒ‘æˆ˜

### è‡ªå¾‹æ€§è¦æ±‚é«˜
æ²¡æœ‰åŠå…¬å®¤çš„æ°›å›´ï¼Œéœ€è¦æ›´å¼ºçš„è‡ªå¾‹æ€§æ¥ä¿æŒå·¥ä½œæ•ˆç‡ã€‚

### ç¤¾äº¤éš”ç¦»
ç¼ºå°‘é¢å¯¹é¢çš„äº¤æµï¼Œå¯èƒ½ä¼šæ„Ÿåˆ°å­¤ç‹¬ã€‚

### å·¥ä½œä¸ç”Ÿæ´»è¾¹ç•Œæ¨¡ç³Š
åœ¨å®¶å·¥ä½œå®¹æ˜“è®©å·¥ä½œå’Œç”Ÿæ´»æ··åœ¨ä¸€èµ·ï¼Œéœ€è¦æ˜ç¡®çš„æ—¶é—´è¾¹ç•Œã€‚

## æˆ‘çš„åº”å¯¹ç­–ç•¥

1. **å»ºç«‹å›ºå®šçš„ä½œæ¯** - ä¿æŒè§„å¾‹çš„ä½œæ¯æ—¶é—´
2. **åˆ›é€ å·¥ä½œä»ªå¼æ„Ÿ** - å›ºå®šçš„å·¥ä½œåŒºåŸŸå’Œå¼€å§‹å·¥ä½œçš„ä»ªå¼
3. **å®šæœŸç¤¾äº¤** - ä¸»åŠ¨ä¸åŒäº‹å’Œæœ‹å‹ä¿æŒè”ç³»
4. **æ˜ç¡®è¾¹ç•Œ** - å·¥ä½œæ—¶é—´å’Œä¼‘æ¯æ—¶é—´è¦åˆ†å¼€

## æ€»ç»“

è¿œç¨‹å·¥ä½œæ˜¯ä¸€ç§æ–°çš„å·¥ä½œæ–¹å¼ï¼Œæœ‰åˆ©æœ‰å¼Šã€‚å…³é”®æ˜¯è¦æ‰¾åˆ°é€‚åˆè‡ªå·±çš„èŠ‚å¥å’Œæ–¹æ³•ã€‚`,
    excerpt: 'åˆ†äº«è¿œç¨‹å·¥ä½œçš„ä½“éªŒï¼ŒåŒ…æ‹¬ä¼˜åŠ¿ã€æŒ‘æˆ˜ä»¥åŠå¦‚ä½•é€‚åº”è¿™ç§æ–°çš„å·¥ä½œæ–¹å¼ã€‚',
    category: 'ç”Ÿæ´»éšç¬”',
    author: 'åšä¸»'
  },
  {
    title: 'ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹è¯»ä¹¦ç¬”è®°',
    content: `æœ€è¿‘è¯»å®Œäº†ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹ï¼ˆCSAPPï¼‰è¿™æœ¬ä¹¦ï¼Œæ”¶è·å¾ˆå¤§ã€‚è¿™æ˜¯ä¸€æœ¬ç»å…¸çš„è®¡ç®—æœºç§‘å­¦æ•™æã€‚

## ä¹¦ç±ç®€ä»‹

ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹ç”±å¡å†…åŸºæ¢…éš†å¤§å­¦çš„æ•™æˆç¼–å†™ï¼Œä»ç¨‹åºå‘˜çš„è§†è§’æ·±å…¥è®²è§£è®¡ç®—æœºç³»ç»Ÿçš„å·¥ä½œåŸç†ã€‚

## ä¸»è¦å†…å®¹

### ç¬¬ä¸€éƒ¨åˆ†ï¼šç¨‹åºç»“æ„å’Œæ‰§è¡Œ
- ä¿¡æ¯çš„è¡¨ç¤ºå’Œå¤„ç†
- ç¨‹åºçš„æœºå™¨çº§è¡¨ç¤º
- å¤„ç†å™¨ä½“ç³»ç»“æ„
- ä¼˜åŒ–ç¨‹åºæ€§èƒ½

### ç¬¬äºŒéƒ¨åˆ†ï¼šåœ¨ç³»ç»Ÿä¸Šè¿è¡Œç¨‹åº
- å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„
- é“¾æ¥
- å¼‚å¸¸æ§åˆ¶æµ
- è™šæ‹Ÿå†…å­˜

### ç¬¬ä¸‰éƒ¨åˆ†ï¼šç¨‹åºé—´çš„é€šä¿¡å’ŒåŒæ­¥
- ç³»ç»Ÿçº§ I/O
- ç½‘ç»œç¼–ç¨‹
- å¹¶å‘ç¼–ç¨‹

## æˆ‘çš„æ”¶è·

1. **å¯¹åº•å±‚åŸç†æœ‰äº†æ›´æ·±å…¥çš„ç†è§£** - çŸ¥é“äº†ä»£ç æ˜¯å¦‚ä½•åœ¨è®¡ç®—æœºä¸Šæ‰§è¡Œçš„
2. **å­¦ä¼šäº†æ€§èƒ½ä¼˜åŒ–** - ç†è§£äº†ç¼“å­˜ã€æµæ°´çº¿ç­‰æ¦‚å¿µ
3. **æŒæ¡äº†ç³»ç»Ÿç¼–ç¨‹** - å­¦ä¼šäº†ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨å’Œåº•å±‚ API

## æ¨èç†ç”±

è¿™æœ¬ä¹¦è™½ç„¶éš¾åº¦è¾ƒå¤§ï¼Œä½†å¯¹äºæƒ³è¦æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿçš„å¼€å‘è€…æ¥è¯´ï¼Œæ˜¯å¿…è¯»çš„ç»å…¸ã€‚å»ºè®®é…åˆå®éªŒä¸€èµ·å­¦ä¹ ï¼Œæ•ˆæœä¼šæ›´å¥½ã€‚

## æ€»ç»“

ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹æ˜¯ä¸€æœ¬å€¼å¾—åå¤é˜…è¯»çš„ä¹¦ï¼Œæ¯æ¬¡è¯»éƒ½ä¼šæœ‰æ–°çš„æ”¶è·ã€‚`,
    excerpt: 'åˆ†äº«é˜…è¯»ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹çš„è¯»ä¹¦ç¬”è®°ï¼Œæ·±å…¥ç†è§£è®¡ç®—æœºåº•å±‚åŸç†ã€‚',
    category: 'è¯»ä¹¦ç¬”è®°',
    author: 'åšä¸»'
  },
  {
    title: 'ã€Šè®¾è®¡æ¨¡å¼ï¼šå¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€ã€‹è¯»åæ„Ÿ',
    content: `è®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å¼€å‘ä¸­çš„é‡è¦æ¦‚å¿µï¼Œæœ€è¿‘è¯»å®Œäº†è¿™æœ¬ç»å…¸çš„è®¾è®¡æ¨¡å¼ä¹¦ç±ã€‚

## ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ï¼Ÿ

è®¾è®¡æ¨¡å¼æ˜¯åœ¨é¢å‘å¯¹è±¡è½¯ä»¶è®¾è®¡ä¸­ï¼Œé’ˆå¯¹å¸¸è§é—®é¢˜çš„å¯å¤ç”¨è§£å†³æ–¹æ¡ˆã€‚å®ƒä¸æ˜¯ä»£ç ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ã€‚

## ç»å…¸çš„è®¾è®¡æ¨¡å¼

### åˆ›å»ºå‹æ¨¡å¼
- **å•ä¾‹æ¨¡å¼** - ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹
- **å·¥å‚æ¨¡å¼** - åˆ›å»ºå¯¹è±¡è€Œä¸æŒ‡å®šå…·ä½“ç±»
- **å»ºé€ è€…æ¨¡å¼** - åˆ†æ­¥éª¤æ„å»ºå¤æ‚å¯¹è±¡

### ç»“æ„å‹æ¨¡å¼
- **é€‚é…å™¨æ¨¡å¼** - è®©ä¸å…¼å®¹çš„æ¥å£ååŒå·¥ä½œ
- **è£…é¥°å™¨æ¨¡å¼** - åŠ¨æ€æ·»åŠ åŠŸèƒ½
- **å¤–è§‚æ¨¡å¼** - æä¾›ç®€åŒ–çš„æ¥å£

### è¡Œä¸ºå‹æ¨¡å¼
- **è§‚å¯Ÿè€…æ¨¡å¼** - å¯¹è±¡é—´çš„ä¸€å¯¹å¤šä¾èµ–å…³ç³»
- **ç­–ç•¥æ¨¡å¼** - å®šä¹‰ç®—æ³•æ—ï¼Œä½¿å®ƒä»¬å¯ä»¥äº’æ¢
- **å‘½ä»¤æ¨¡å¼** - å°†è¯·æ±‚å°è£…ä¸ºå¯¹è±¡

## å®é™…åº”ç”¨

åœ¨ React å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨ï¼š
- **é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰** - ç±»ä¼¼è£…é¥°å™¨æ¨¡å¼
- **Context API** - ç±»ä¼¼è§‚å¯Ÿè€…æ¨¡å¼
- **è‡ªå®šä¹‰ Hooks** - å°è£…å¯å¤ç”¨é€»è¾‘

## å­¦ä¹ å»ºè®®

1. **ä¸è¦è¿‡åº¦è®¾è®¡** - åªåœ¨çœŸæ­£éœ€è¦æ—¶ä½¿ç”¨è®¾è®¡æ¨¡å¼
2. **ç†è§£åŸç†** - ç†è§£æ¨¡å¼èƒŒåçš„æ€æƒ³ï¼Œè€Œä¸æ˜¯æ­»è®°ç¡¬èƒŒ
3. **ç»“åˆå®é™…** - åœ¨é¡¹ç›®ä¸­å®è·µï¼ŒåŠ æ·±ç†è§£

## æ€»ç»“

è®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å¼€å‘çš„é‡è¦å·¥å…·ï¼ŒæŒæ¡å®ƒä»¬å¯ä»¥è®©ä»£ç æ›´åŠ ä¼˜é›…å’Œå¯ç»´æŠ¤ã€‚ä½†ä¹Ÿè¦è®°ä½ï¼Œæ¨¡å¼æ˜¯æ‰‹æ®µï¼Œä¸æ˜¯ç›®çš„ã€‚`,
    excerpt: 'åˆ†äº«ã€Šè®¾è®¡æ¨¡å¼ã€‹çš„è¯»ä¹¦å¿ƒå¾—ï¼Œå­¦ä¹ å¦‚ä½•åœ¨å®é™…å¼€å‘ä¸­åº”ç”¨è®¾è®¡æ¨¡å¼ã€‚',
    category: 'è¯»ä¹¦ç¬”è®°',
    author: 'åšä¸»'
  }
]

async function addArticles() {
  console.log('ğŸš€ å¼€å§‹æ·»åŠ ç¤ºä¾‹æ–‡ç« ...\n')

  // é¦–å…ˆè·å–æ‰€æœ‰åˆ†ç±»
  const { data: categories, error: catError } = await supabase
    .from('categories')
    .select('id, name')

  if (catError) {
    console.error('âŒ è·å–åˆ†ç±»å¤±è´¥:', catError.message)
    return
  }

  if (!categories || categories.length === 0) {
    console.error('âŒ æœªæ‰¾åˆ°åˆ†ç±»ï¼Œè¯·å…ˆæ‰§è¡Œ schema.sql åˆ›å»ºåˆ†ç±»')
    return
  }

  console.log('âœ… æ‰¾åˆ°åˆ†ç±»:', categories.map(c => c.name).join(', '))
  console.log('')

  // åˆ›å»ºåˆ†ç±»æ˜ å°„
  const categoryMap = {}
  categories.forEach(cat => {
    categoryMap[cat.name] = cat.id
  })

  let successCount = 0
  let errorCount = 0

  // æ’å…¥æ¯ç¯‡æ–‡ç« 
  for (const article of articles) {
    const categoryId = categoryMap[article.category]
    
    if (!categoryId) {
      console.error(`âŒ åˆ†ç±» "${article.category}" ä¸å­˜åœ¨ï¼Œè·³è¿‡æ–‡ç« : ${article.title}`)
      errorCount++
      continue
    }

    const { data, error } = await supabase
      .from('posts')
      .insert({
        title: article.title,
        content: article.content,
        excerpt: article.excerpt,
        category_id: categoryId,
        author: article.author,
        published: true
      })
      .select()

    if (error) {
      console.error(`âŒ æ·»åŠ æ–‡ç« å¤±è´¥ "${article.title}":`, error.message)
      errorCount++
    } else {
      console.log(`âœ… å·²æ·»åŠ : ${article.title}`)
      successCount++
    }
  }

  console.log('')
  console.log('='.repeat(50))
  console.log(`ğŸ“Š å®Œæˆï¼æˆåŠŸ: ${successCount} ç¯‡, å¤±è´¥: ${errorCount} ç¯‡`)
  console.log('='.repeat(50))
}

// æ‰§è¡Œ
addArticles().catch(console.error)

